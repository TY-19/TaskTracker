<div class="content">
    
    <table mat-table [dataSource]="stages"
        class="mat-elevation-z8"
        [hidden]="!stages"
        aria-label="List of the stages">
    
        <ng-container matColumnDef="position">
            <th mat-header-cell *matHeaderCellDef class="align-center"> Position </th>
            <td mat-cell *matCellDef="let stage" class="short-column align-center"> {{stage.position}} </td>
        </ng-container>
        <ng-container matColumnDef="move">
            <th mat-header-cell *matHeaderCellDef class="align-center"> Move </th>
            <td mat-cell *matCellDef="let stage; let i = index" class="medium-column align-center"> 
                <p>
                    <button *ngIf="i != 0" 
                        mat-icon-button (click)="moveStage(stage.id, false)">
                        <mat-icon>
                            arrow_upward
                        </mat-icon>
                    </button>
                    <button *ngIf="i != stages.data.length - 1" 
                        mat-icon-button (click)="moveStage(stage.id, true)">
                        <mat-icon>
                            arrow_downward
                        </mat-icon>
                    </button>
                </p>
            </td>
        </ng-container>
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let stage"> {{stage.name}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="['position', 'move', 'name']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['position', 'move', 'name']"></tr>
    </table>
</div>